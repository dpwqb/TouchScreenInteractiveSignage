<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Ethos-video</title>
	<script src="./js/tailwindcss.js"></script>
	<style>
		@font-face {
			font-family: 'SHBreeHeadlineGlobal';
			src: url('./Fonts/sh-bree-headlineglobal-regular.ttf') format('truetype');
		}
	</style>
	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						primary: '#4a6fa5',
						secondary: '#e67e22',
					}
				}
			}
		}
	</script>
	<style type="text/tailwindcss">
		@layer utilities {
			/* 主容器样式 */
			.slide-container {
				width: 100vw;
				height: 100vh;
				overflow: hidden;
				position: relative;
				display: flex;
			}
			
			/* 滚动容器 */
			.scroll-wrapper {
				width: 200vw;
				height: 100vh;
				display: flex;
				transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
				will-change: transform;
			}
			
			/* 页面样式 */
			.slide-page {
				width: 100vw;
				height: 100vh;
				flex-shrink: 0;
				position: relative;
			}
			
			/* 页面指示器 */
			.page-indicator {
				position: fixed;
				bottom: 30px;
				left: 50%;
				transform: translateX(-50%);
				z-index: 1000;
				display: flex;
				gap: 12px;
			}
			
			.indicator-dot {
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background-color: rgba(255, 255, 255, 0.4);
				cursor: pointer;
				transition: all 0.3s ease;
				border: 2px solid transparent;
			}
			
			.indicator-dot.active {
				background-color: #EC6600;
				transform: scale(1.3);
				border-color: rgba(255, 255, 255, 0.8);
			}
			
			/* 隐藏滚动条但保持触摸功能 */
			body, html {
				overflow: hidden;
				margin: 0;
				padding: 0;
				touch-action: pan-x;
			}
			
			.slide-container {
				touch-action: pan-x;
			}
			
			/* 箭头导航按钮样式 */
			.nav-arrows {
				position: fixed;
				bottom: 30px;
				left: 0;
				right: 0;
				z-index: 1000;
				display: flex;
				justify-content: space-between;
				pointer-events: none;
			}
			
			.nav-arrow {
				width: 10vh;
				height: 10vh;
				border-radius: 50%;
				background-color: rgba(0, 0, 0, 0.6);
				border: 2px solid rgba(255, 255, 255, 0.8);
				color: white;
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				transition: all 0.3s ease;
				pointer-events: auto;
				backdrop-filter: blur(10px);
			}
			
			.nav-arrow:hover {
				background-color: rgba(0, 0, 0, 0.8);
				transform: scale(1.1);
				border-color: #EC6600;
			}
			
			.nav-arrow:active {
				transform: scale(0.95);
			}
			
			.nav-arrow-left {
				margin-left: 30px;
			}
			
			.nav-arrow-right {
				margin-right: 30px;
			}

			.nav-arrow-right img {
				transform: scaleX(-1);
			}
			
			.nav-arrow:disabled {
				opacity: 0.3;
				cursor: not-allowed;
				pointer-events: none;
			}
		}
	</style>
</head>

<body class="bg-black">
	<div class="slide-container">
		<div class="scroll-wrapper" id="scrollWrapper">
			<div class="slide-page">
				<iframe src="video.html" frameborder="0" width="100%" height="100%"></iframe>
			</div>
			<div class="slide-page">
				<iframe src="home.html" frameborder="0" width="100%" height="100%"></iframe>
			</div>
		</div>
	</div>

	<!-- 页面指示器 -->
	<div class="page-indicator">
		<div class="indicator-dot active" data-page="0"></div>
		<div class="indicator-dot" data-page="1"></div>
	</div>
	
	<!-- 箭头导航按钮 -->
	<div class="nav-arrows">
		<button id="prevBtn" class="nav-arrow nav-arrow-left" title="上一页">
			<img src="./img/left.svg" alt="上一页" width="50%" height="50%">
		</button>
		<button id="nextBtn" class="nav-arrow nav-arrow-right" title="下一页">
			<img src="./img/left.svg" alt="下一页" width="50%" height="50%">
		</button>
	</div>

	<script src="./js/jquery-1.8.3.min.js"></script>
	<script>
		class SimpleSlideController {
			constructor() {
				this.wrapper = document.getElementById('scrollWrapper');
				this.currentPage = 0;
				this.totalPages = 2;
				this.isTransitioning = false;
				
				// 从URL参数获取初始页面
				this.initFromURL();
				this.initArrowButtons();
				this.initIndicators();
			}
			
			initFromURL() {
				const urlParams = new URLSearchParams(window.location.search);
				const pageParam = urlParams.get('page');
				if (pageParam) {
					const targetPage = parseInt(pageParam);
					if (targetPage >= 0 && targetPage < this.totalPages) {
						this.goToPage(targetPage, false);
					}
				}
			}
			
			initArrowButtons() {
				const prevBtn = document.getElementById('prevBtn');
				const nextBtn = document.getElementById('nextBtn');
				
				// 更新按钮状态
				this.updateArrowButtons();
				
				// 上一页按钮
				prevBtn.addEventListener('click', () => {
					if (this.currentPage > 0) {
						this.goToPage(this.currentPage - 1);
					}
				});
				
				// 下一页按钮
				nextBtn.addEventListener('click', () => {
					if (this.currentPage < this.totalPages - 1) {
						this.goToPage(this.currentPage + 1);
					}
				});
				
				// 添加键盘事件作为备用
				document.addEventListener('keydown', (e) => {
					if (e.key === 'ArrowLeft' && this.currentPage > 0) {
						this.goToPage(this.currentPage - 1);
					} else if (e.key === 'ArrowRight' && this.currentPage < this.totalPages - 1) {
						this.goToPage(this.currentPage + 1);
					}
				});
			}
			
			updateArrowButtons() {
				const prevBtn = document.getElementById('prevBtn');
				const nextBtn = document.getElementById('nextBtn');
				
				// 更新上一页按钮状态
				if (this.currentPage === 0) {
					prevBtn.disabled = true;
					prevBtn.style.opacity = '0.3';
				} else {
					prevBtn.disabled = false;
					prevBtn.style.opacity = '1';
				}
				
				// 更新下一页按钮状态
				if (this.currentPage === this.totalPages - 1) {
					nextBtn.disabled = true;
					nextBtn.style.opacity = '0.3';
				} else {
					nextBtn.disabled = false;
					nextBtn.style.opacity = '1';
				}
			}
			
			initIndicators() {
				const indicators = document.querySelectorAll('.indicator-dot');
				indicators.forEach((indicator, index) => {
					indicator.addEventListener('click', () => {
						this.goToPage(index);
					});
				});
			}
			
			goToPage(pageIndex, animate = true) {
				if (this.isTransitioning || pageIndex === this.currentPage) return;
				
				this.isTransitioning = true;
				this.currentPage = pageIndex;
				
				// 计算偏移量
				const offset = -pageIndex * 100;
				
				if (animate) {
					this.wrapper.style.transform = `translateX(${offset}vw)`;
				} else {
					this.wrapper.style.transition = 'none';
					this.wrapper.style.transform = `translateX(${offset}vw)`;
					// 强制重绘后恢复过渡
					setTimeout(() => {
						this.wrapper.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
					}, 10);
				}
				
				// 更新指示器
				document.querySelectorAll('.indicator-dot').forEach((dot, index) => {
					dot.classList.toggle('active', index === pageIndex);
				});
				
				// 更新箭头按钮状态
				this.updateArrowButtons();
				
				// 重置过渡状态
				setTimeout(() => {
					this.isTransitioning = false;
				}, 600);
			}
		}
		
		// 测试函数
		window.testSlide = function() {
			console.log('测试滑动功能');
			const controller = window.slideController;
			if (controller) {
				const nextPage = controller.currentPage === 0 ? 1 : 0;
				controller.goToPage(nextPage);
			}
		};
		
		// 初始化滑动控制器
		document.addEventListener('DOMContentLoaded', () => {
			window.slideController = new SimpleSlideController();
		});
	</script>
</body>
</html>